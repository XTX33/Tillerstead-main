{% comment %}
Homepage Blog Highlights Include
- Renders recent N posts as compact cards
- Params: limit (default 3), eyebrow, title, summary, cta_url, cta_label
Usage: {% include blog-highlights.html limit=3 %}
{% endcomment %}
{% assign posts_sorted = site.posts | sort: 'date' | reverse %}
{% assign limit = include.limit | default: 3 %}
{% assign items = posts_sorted | slice: 0, limit %}
{% if items and items.size > 0 %}
{% assign section_id = include.section_id | default: 'home-blog' %}
{% assign heading_id = include.heading_id | default: section_id | append: '-title' %}
<section class="ts-section section blog" aria-labelledby="{{ heading_id }}">
  <div class="container">
    <div class="section-header">
      <p class="eyebrow text-accent">{{ include.eyebrow | default: 'Guides & notes' }}</p>
      <h2 id="{{ heading_id }}" class="heading-2">{{ include.title | default: 'Latest articles' }}</h2>
      <p class="lead">{{ include.summary | default: 'Contractor-grade guidance on tile, bath, and remodeling in South Jersey.' }}</p>
    </div>

    <ul class="cards cards--3col" role="list" aria-label="Latest articles">
      {% for post in items %}
        <li class="card card--post" itemscope itemtype="https://schema.org/Article">
          <h3 class="card-title heading-4" itemprop="headline">
            <a href="{{ post.url | relative_url }}" itemprop="url">{{ post.title }}</a>
          </h3>
          <p class="card-meta"><time datetime="{{ post.date | date_to_xmlschema }}" itemprop="datePublished">{{ post.date | date: "%B %e, %Y" }}</time></p>
          {% if post.description %}
            <p class="card-desc" itemprop="description">{{ post.description }}</p>
          {% else %}
            <p class="card-desc" itemprop="description">{{ post.excerpt | strip_html | truncate: 140 }}</p>
          {% endif %}
          <p><a class="card-link" href="{{ post.url | relative_url }}" aria-label="Read article: {{ post.title }}">Read article â†’</a></p>
        </li>
      {% endfor %}
    </ul>

    <div class="section-action">
      <a href="{{ include.cta_url | default: '/blog/' | relative_url }}" class="btn btn--primary">{{ include.cta_label | default: 'View all articles' }}</a>
    </div>
  </div>
</section>
{% endif %}
