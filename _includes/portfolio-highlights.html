{% comment %}
Homepage Portfolio Highlights Include
- Renders a simple three-card preview of portfolio items
- Data source: _data/portfolio_highlights.yml (key: highlights)
- Optional overrides: eyebrow, title, summary, cta_url, cta_label
  - Optional IDs: section_id (default: gallery), heading_id (default: section_id + '-title')
Usage: {% include portfolio-highlights.html %}
{% endcomment %}
{% assign section_id = include.section_id | default: 'gallery' %}
{% assign heading_id = include.heading_id | default: section_id | append: '-title' %}
<section class="ts-section section ts-portfolio" aria-labelledby="{{ heading_id }}">
  <div class="container">
    <div class="section-header">
      <p class="eyebrow text-accent">{{ include.eyebrow | default: 'Recent work' }}</p>
      <h2 id="{{ heading_id }}" class="heading-2">{{ include.title | default: 'Portfolio highlights' }}</h2>
      <p class="lead">{{ include.summary | default: 'Waterproof tile assemblies, remodels, and maintenance scopes documented with clear photos and timelines.' }}</p>
    </div>

    {% assign items = site.data.portfolio_highlights.highlights | default: site.data.portfolio_highlights %}
    {% if items and items.size > 0 %}
      {% assign preview_items = items | slice: 0, 3 %}
      <ul class="cards cards--3col" role="list">
        {% for item in preview_items %}
          <li>
            <article class="card card--portfolio">
              <figure class="card-media" style="--ar: {{ item.ar | default: '4 / 3' }}">
                <img src="{{ item.file | relative_url }}"
                     alt="{{ item.alt | escape }}"
                     loading="lazy"
                     decoding="async">
              </figure>
              <div class="card-content">
                {% if item.category %}<span class="card-eyebrow">{{ item.category }}</span>{% endif %}
                {% if item.title %}<h3 class="card-title heading-4">{{ item.title }}</h3>{% endif %}
                {% if item.desc %}<p class="card-desc">{{ item.desc }}</p>{% endif %}
              </div>
            </article>
          </li>
        {% endfor %}
      </ul>
    {% endif %}

    <div class="section-action">
      <a href="{{ include.cta_url | default: '/portfolio/' | relative_url }}" class="btn btn--primary">{{ include.cta_label | default: 'View full portfolio' }}</a>
    </div>
  </div>
</section>
