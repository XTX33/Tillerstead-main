{% assign summary = include.summary | default: page.services_summary | default: 'Consistent finish work, waterproof assemblies, and recurring care that keep rentals, shore homes, and owner-occupied properties in top shape.' %}
{% assign services = include.services | default: page.services %}

{% unless services %}
  {%- comment -%}
    Default services are defined here so the homepage and any page that omits a custom
    services list still renders service cards. Each entry is a pipe-delimited string that
    is split into icon, title, description, and URL when iterating below.
  {%- endcomment -%}
  {% capture default_services %}
    paint|Finish painting & trim|Clean lines, cabinet refreshes, and durable interior repainting|/services/#paint;
    flooring|Resilient flooring installs|Vinyl plank, tile, subfloor prep, and clean transitions|/services/#flooring;
    waterproof|Waterproof tile assemblies|Custom pans, backer prep, heated floors, and moisture protection|/services/#tile;
    maintenance|Turnover-ready upkeep|Seasonal inspections, quick repairs, and landlord-ready reporting|/services/#maintenance
  {% endcapture %}
  {% assign services = default_services | split: ';' %}
{% endunless %}

<section class="ts-services" aria-labelledby="ts-services-title">
  <div class="container">
    <header class="ts-services__header">
      <span class="eyebrow text-accent">Core Capabilities</span>
      <h2 id="ts-services-title" class="heading-2 text-primary">Remodels, tile assemblies, and property upkeep</h2>
      <p class="lead">{{ summary }}</p>
    </header>
    <div class="ts-services__grid" role="list">
      {% for raw in services %}
        {% if raw contains '|' %}
          {% assign parts = raw | split: '|' %}
          {% assign service_icon = parts[0] %}
          {% assign service_title = parts[1] %}
          {% assign service_description = parts[2] %}
          {% assign service_url = parts[3] %}
        {% else %}
          {% assign service_icon = raw.icon %}
          {% assign service_title = raw.title %}
          {% assign service_description = raw.description %}
          {% assign service_url = raw.url %}
        {% endif %}
        {% include ts-service-card.html
          icon=service_icon
          title=service_title
          description=service_description
          tagline=raw.tagline
          details=raw.details
          url=service_url %}
      {% endfor %}
    </div>
    <nav class="ts-services__actions" aria-label="Service actions">
      <a class="btn btn--primary" href="/contact/">Book property upkeep</a>
      <a class="btn btn--ghost" href="/portfolio/">See recent projects</a>
    </nav>
  </div>
</section>
