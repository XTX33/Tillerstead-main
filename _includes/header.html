<header class="site-header ts-header ts-theme" role="banner" itemscope itemtype="https://schema.org/Organization" data-header>
  <meta itemprop="name" content="{{ site.title }}">
  <meta itemprop="url" content="{{ site.url }}">
  <meta itemprop="logo" content="{{ '/assets/img/logo/tillerstead-inverse.svg' | absolute_url }}">
  <meta itemprop="telephone" content="+1-609-862-8808">
  <meta itemprop="address" itemscope itemtype="https://schema.org/PostalAddress">
  <meta itemprop="addressLocality" content="New Jersey">

  <div class="site-header-inner">
    <!-- Left side navigation -->
    <nav class="site-nav site-nav--left" role="navigation" aria-label="Primary navigation">
      <ul class="site-menu site-menu--left">
        {% assign nav_items = site.data.navigation.primary %}
        {% for item in nav_items limit:3 %}
          {% unless item.children %}
            {% assign is_current = false %}
            {% if item.exact %}
              {% if page.url == item.exact %}
                {% assign is_current = true %}
              {% endif %}
            {% elsif item.match %}
              {% if page.url == item.match or page.url contains item.match and item.match != "/" %}
                {% assign is_current = true %}
              {% endif %}
            {% endif %}
            <li class="nav-item">
              <a href="{{ item.url | relative_url }}"
                 class="nav-link{% if is_current %} active{% endif %}"
                 {% if is_current %} aria-current="page"{% endif %}>
                {{ item.title }}
              </a>
            </li>
          {% endunless %}
        {% endfor %}
      </ul>
    </nav>

    <!-- Center logo -->
    <div class="site-branding" data-logo>
      {% include logo-main.html class="ts-logo-link" img_class="ts-logo" variant="inverse" %}
    </div>

    <!-- Right side navigation -->
    <nav class="site-nav site-nav--right" role="navigation" aria-label="Secondary navigation">
      <ul class="site-menu site-menu--right">
        {% for item in nav_items offset:3 limit:3 %}
          {% unless item.children %}
            {% assign is_current = false %}
            {% if item.exact %}
              {% if page.url == item.exact %}
                {% assign is_current = true %}
              {% endif %}
            {% elsif item.match %}
              {% if page.url == item.match or page.url contains item.match and item.match != "/" %}
                {% assign is_current = true %}
              {% endif %}
            {% endif %}
            <li class="nav-item">
              <a href="{{ item.url | relative_url }}"
                 class="nav-link{% if is_current %} active{% endif %}"
                 {% if is_current %} aria-current="page"{% endif %}>
                {{ item.title }}
              </a>
            </li>
          {% endunless %}
        {% endfor %}
      </ul>
    </nav>

    <!-- Mobile menu toggle -->
    <button type="button"
      class="nav-toggle"
      aria-controls="mobile-nav"
      aria-expanded="false"
      aria-label="Open navigation menu"
      data-nav-toggle>
      <span class="nav-toggle-icon">
        <span></span>
        <span></span>
        <span></span>
      </span>
    </button>
  </div>

  <!-- Mobile navigation drawer -->
  <div class="mobile-nav-shell" data-nav-container>
    <div class="mobile-nav-backdrop" data-nav-overlay aria-hidden="true"></div>
    <nav id="mobile-nav" class="mobile-nav" role="navigation" aria-label="Mobile navigation">
      <div class="mobile-nav-header">
        <span class="mobile-nav-title">Menu</span>
        <button type="button" class="nav-close" data-nav-close aria-label="Close menu">
          <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" focusable="false">
            <line x1="18" y1="6" x2="6" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <line x1="6" y1="6" x2="18" y2="18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
      
      <ul class="mobile-menu">
        {% assign nav_items = site.data.navigation.primary %}
        {% for item in nav_items %}
          {% unless item.children %}
            {% assign is_current = false %}
            {% if item.exact %}
              {% if page.url == item.exact %}
                {% assign is_current = true %}
              {% endif %}
            {% elsif item.match %}
              {% if page.url == item.match or page.url contains item.match and item.match != "/" %}
                {% assign is_current = true %}
              {% endif %}
            {% endif %}
            <li class="mobile-nav-item">
              <a href="{{ item.url | relative_url }}"
                 class="mobile-nav-link{% if is_current %} active{% endif %}"
                 {% if is_current %} aria-current="page"{% endif %}>
                {{ item.title }}
              </a>
            </li>
          {% endunless %}
        {% endfor %}
      </ul>

      <div class="mobile-nav-cta">
        <a class="btn btn-primary btn-block" href="{{ '/contact/' | relative_url }}">
          Request Estimate
        </a>
        <a class="btn btn-ghost btn-block" href="tel:+16098628808">
          Call (609) 862-8808
        </a>
      </div>
    </nav>
  </div>
</header>
