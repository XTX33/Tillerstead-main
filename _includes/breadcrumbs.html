{%- comment -%}
Breadcrumb Navigation Component
- Modern minimal styling with emerald accent
- Schema.org BreadcrumbList for SEO
- Hidden on homepage or when disabled
- Accessible with proper ARIA labels and semantic markup
{%- endcomment -%}

{%- if page.url == "/" or page.url == "/index.html" or page.is_home == true or page.layout == "home" or page.breadcrumb == false -%}
  {%- comment -%}Breadcrumbs hidden on home or when disabled{%- endcomment -%}
{%- else -%}
  {%- assign path = page.url | replace: 'index.html', '' -%}
  {%- assign segments = path | split: '/' -%}

  <nav class="breadcrumbs" aria-label="Breadcrumb" role="navigation">
    <ol class="breadcrumbs-list"
      itemscope
      itemtype="https://schema.org/BreadcrumbList">

      {%- assign position = 1 -%}

      <!-- Home breadcrumb -->
      <li class="breadcrumb-item"
          itemprop="itemListElement"
          itemscope
          itemtype="https://schema.org/ListItem">
        <a itemprop="item"
           href="{{ '/' | relative_url }}"
           class="breadcrumb-link">
          <span itemprop="name">Home</span>
        </a>
        <meta itemprop="position" content="{{ position }}">
      </li>

      {%- assign position = position | plus: 1 -%}
      {%- assign current_path = "" -%}

      <!-- Path segment breadcrumbs -->
      {%- for segment in segments -%}
        {%- if segment == "" -%}
          {%- continue -%}
        {%- endif -%}

        {%- assign current_path = current_path | append: "/" | append: segment -%}
        {%- assign is_last = forloop.last -%}

        {%- if is_last -%}
          {%- assign label = page.breadcrumb_title | default: page.title | default: segment | replace: '-', ' ' | capitalize -%}
        {%- else -%}
          {%- assign label = segment | replace: '-', ' ' | capitalize -%}
        {%- endif -%}

        <li class="breadcrumb-item"
            itemprop="itemListElement"
            itemscope
            itemtype="https://schema.org/ListItem">
          <a itemprop="item"
             href="{{ current_path | append: '/' | relative_url }}"
             class="breadcrumb-link"
             {%- if is_last %} aria-current="page"{%- endif %}>
            <span itemprop="name">{{ label }}</span>
          </a>
          <meta itemprop="position" content="{{ position }}">
        </li>

        {%- assign position = position | plus: 1 -%}
      {%- endfor -%}

    </ol>
  </nav>
{%- endif -%}