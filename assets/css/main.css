/* ----------------------------- 1) TOKENS -------------------------------- */
:root {
    color-scheme: light;

    /* Core hex palette */
    --hex-white: #ffffff;
    --hex-black: #000000;

    --hex-teal-50: #e0f2f7;
    --hex-teal-100: #b3dce8;
    --hex-teal-200: #84d1b8;
    --hex-teal-300: #2ba9ba;
    --hex-teal-400: #16a384;
    --hex-teal-500: #1cb394;
    --hex-teal-600: #0d9aaa;
    --hex-teal-700: #0b6b5c;
    --hex-teal-900: #0f766e;

    --hex-coral-50: #fff5f2;
    --hex-coral-100: #ffe4dc;
    --hex-coral-400: #ff9d7d;
    --hex-coral-500: #ff8461;
    --hex-coral-600: #e86f4e;
    --hex-coral-700: #c85a3d;

    --hex-amber-100: #fef3c7;
    --hex-gold-400: #d6b45b;
    --hex-gold-500: #c99a3f;
    --hex-gold-600: #c89d4f;
    --hex-gold-700: #92400e;

    --hex-slate-50: #f8fafc;
    --hex-slate-100: #f1f5f9;
    --hex-slate-200: #e2e8f0;
    --hex-slate-300: #cbd5e1;
    --hex-slate-500: #64748b;
    --hex-slate-600: #475569;
    --hex-slate-700: #334155;
    --hex-slate-900: #1e293b;

    --hex-charcoal: #1a1a1a;

    /* Brand alias tokens (keep your existing semantic names stable) */
    --color-brand-teal-50: var(--hex-teal-50);
    --color-brand-teal-100: var(--hex-teal-100);
    --color-brand-teal-400: var(--hex-teal-300);
    --color-brand-teal-500: var(--hex-teal-500);
    --color-brand-teal-600: var(--hex-teal-600);
    --color-brand-teal-700: var(--hex-teal-700);
    --color-brand-teal-900: var(--hex-teal-900);

    --color-sunset-50: var(--hex-coral-50);
    --color-sunset-100: var(--hex-coral-100);
    --color-sunset-400: var(--hex-coral-400);
    --color-sunset-500: var(--hex-coral-500);
    --color-sunset-600: var(--hex-coral-600);
    --color-sunset-700: var(--hex-coral-700);

    --color-golden-100: var(--hex-amber-100);
    --color-golden-400: var(--hex-gold-400);
    --color-golden-500: var(--hex-gold-500);
    --color-golden-600: var(--hex-gold-600);
    --color-golden-700: var(--hex-gold-700);

    --color-slate-50: var(--hex-slate-50);
    --color-slate-100: var(--hex-slate-100);
    --color-slate-200: var(--hex-slate-200);
    --color-slate-300: var(--hex-slate-300);
    --color-slate-500: var(--hex-slate-500);
    --color-slate-600: var(--hex-slate-600);
    --color-slate-700: var(--hex-slate-700);
    --color-slate-900: var(--hex-charcoal);

    /* Text + surface semantics */
    --ts-white: var(--hex-white);
    --ts-black: var(--hex-black);

    --ts-color-bg: var(--color-slate-50);
    --ts-color-surface: var(--ts-white);
    --ts-color-surface-muted: var(--color-slate-100);
    --ts-color-surface-elevated: var(--ts-white);

    --ts-color-text: var(--color-slate-900);
    --ts-color-heading: var(--color-slate-900);
    --ts-color-muted: var(--color-slate-600);
    --ts-color-text-subtle: var(--color-slate-500);

    --ts-color-border: var(--color-slate-200);
    --ts-color-border-strong: var(--color-slate-300);

    /* Primary / accent semantics */
    --ts-color-primary: var(--color-brand-teal-600);
    --ts-color-primary-hover: var(--color-brand-teal-700);
    --ts-color-primary-soft: var(--color-brand-teal-50);
    --ts-color-primary-strong: var(--color-brand-teal-900);

    --ts-color-accent: var(--color-golden-500);
    --ts-color-accent-hover: var(--color-golden-600);
    --ts-color-accent-soft: var(--color-golden-100);
    --ts-color-accent-strong: var(--color-golden-700);

    --ts-color-secondary: var(--color-sunset-500);
    --ts-color-secondary-hover: var(--color-sunset-600);
    --ts-color-secondary-soft: var(--color-sunset-50);

    /* Gradients (define BOTH ts-* and tiller-* so nothing breaks) */
    --ts-gradient-primary: linear-gradient(135deg,
            var(--color-brand-teal-600) 0%,
            var(--color-brand-teal-700) 60%,
            var(--hex-slate-900) 100%);
    --ts-gradient-warm: linear-gradient(135deg,
            var(--color-sunset-400) 0%,
            var(--color-golden-500) 100%);
    --ts-gradient-surface: none;

    --tiller-gradient-hero: var(--ts-gradient-primary);
    --tiller-gradient-warm: var(--ts-gradient-warm);
    --tiller-gradient-sunrise: linear-gradient(90deg,
            var(--color-golden-400) 0%,
            var(--color-sunset-500) 100%);

    /* Shadows (single source of truth; no overwrites) */
    --shadow-xs: 0 1px 2px rgb(0 0 0 / 0.05);
    --shadow-sm: 0 2px 6px rgb(0 0 0 / 0.08);
    --shadow-md: 0 6px 16px rgb(0 0 0 / 0.10);
    --shadow-lg: 0 12px 28px rgb(0 0 0 / 0.14);

    --ts-shadow-soft: var(--shadow-sm);
    --ts-shadow-lift: var(--shadow-md);
    --ts-shadow-header: var(--shadow-xs);
    --ts-shadow-header-scrolled: var(--shadow-sm);

    --shadow-glow-teal: 0 0 0 3px rgb(13 154 170 / 0.25);

    /* Type */
    --font-heading: "Montserrat", "Inter", system-ui, -apple-system, "Segoe UI", sans-serif;
    --font-body: "Inter", system-ui, -apple-system, "Segoe UI", sans-serif;
    --font-mono: ui-monospace, sfmono-regular, menlo, monaco, consolas, "Liberation Mono", monospace;

    --font-size-sm: 0.92rem;
    --font-size-base: 1rem;
    --font-size-lg: 1.125rem;

    --line-height-base: 1.65;
    --line-height-tight: 1.2;

    /* Spacing */
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-5: 1.25rem;
    --space-6: 1.5rem;
    --space-7: 2rem;
    --space-8: 2.5rem;

    /* Radii (no duplicates) */
    --radius-sm: 0.375rem;
    --radius-md: 0.75rem;
    --radius-lg: 1rem;
    --radius-xl: 1.5rem;
    --radius-pill: 9999px;

    --ts-radius-sm: var(--radius-sm);
    --ts-radius-md: var(--radius-md);
    --ts-radius-lg: var(--radius-lg);
    --ts-radius-xl: var(--radius-xl);
    --ts-radius-pill: var(--radius-pill);

    /* Motion */
    --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
    --dur-fast: 160ms;
    --dur-med: 240ms;
    --dur-slow: 400ms;

    /* Layout */
    --container-max: 1400px;
    --container-gutter: clamp(1rem, 4vw, 2.5rem);

    /* Header */
    --header-height: 76px;
    --header-bg: rgb(255 255 255 / 0.95);
    --header-border: rgb(13 154 170 / 0.18);
    --header-pad-y: 1.25rem;
    /* initial */
    --header-pad-y-scrolled: 0.75rem;

    /* Footer */
    --footer-bg: linear-gradient(165deg,
            var(--color-brand-teal-700) 0%,
            var(--color-brand-teal-900) 55%,
            var(--color-brand-teal-900) 100%);

    /* Back-compat for your older references (prevents “undefined var” fallbacks) */
    --tiller-slate-900: var(--hex-slate-900);
    --tiller-slate-100: var(--hex-slate-100);
    --tiller-brand-teal-400: var(--color-brand-teal-400);
    --tiller-brand-teal-50: var(--color-brand-teal-50);
    --tiller-golden-500: var(--color-golden-500);
    --tiller-golden-50: var(--color-golden-100);
}

/* ----------------------------- 2) BASE ---------------------------------- */

*,
*::before,
*::after {
    box-sizing: border-box;
}

html {
    text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    scroll-behavior: smooth;
}

body {
    margin: 0;
    min-height: 100%;
    font-family: var(--font-body);
    font-size: var(--font-size-base);
    line-height: var(--line-height-base);
    color: var(--ts-color-text);
    background: var(--ts-color-bg);
    overflow-x: hidden;
}

body.nav-open {
    overflow: hidden;
    touch-action: none;
}

img,
picture,
video,
canvas,
svg {
    display: block;
    max-width: 100%;
    height: auto;
}

a {
    color: var(--ts-color-primary);
    text-decoration: underline;
    text-underline-offset: 0.18em;
    text-decoration-color: color-mix(in srgb, currentColor 38%, transparent);
    transition: color var(--dur-fast) var(--ease-smooth);
}

a:hover,
a:focus-visible {
    color: var(--ts-color-primary-hover);
    text-decoration-color: color-mix(in srgb, currentColor 65%, transparent);
}

:focus-visible {
    outline: 3px solid color-mix(in srgb, var(--ts-color-primary) 60%, transparent);
    outline-offset: 3px;
}

h1,
h2,
h3,
h4,
h5,
h6 {
    margin: 0 0 0.75em;
    font-family: var(--font-heading);
    line-height: var(--line-height-tight);
    color: var(--ts-color-heading);
    font-weight: 700;
}

p {
    margin: 0 0 1rem;
    max-width: 70ch;
}

/* Utilities you already used */
.container,
.ts-container {
    width: 100%;
    max-width: var(--container-max);
    margin-inline: auto;
    padding-inline: var(--container-gutter);
}

/* -------------------------- 3) BUTTONS ---------------------------------- */

.btn,
.button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    padding: 0.85rem 1.25rem;
    border-radius: var(--ts-radius-lg);
    font-weight: 600;
    font-family: var(--font-body);
    border: 0;
    cursor: pointer;
    text-decoration: none;
    transition: transform var(--dur-fast) var(--ease-smooth),
        box-shadow var(--dur-fast) var(--ease-smooth),
        background var(--dur-fast) var(--ease-smooth),
        color var(--dur-fast) var(--ease-smooth);
    min-height: 44px;
}

.btn-primary,
.btn--primary {
    background: var(--ts-color-primary);
    color: var(--ts-white);
    box-shadow: var(--ts-shadow-soft);
}

.btn-primary:hover,
.btn--primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--ts-shadow-lift);
}

.btn-secondary,
.btn--secondary {
    background: transparent;
    color: var(--ts-color-heading);
    border: 2px solid color-mix(in srgb, var(--ts-color-primary) 65%, transparent);
}

.btn-secondary:hover,
.btn--secondary:hover {
    background: var(--ts-color-primary-soft);
    transform: translateY(-2px);
}

/* ---------------------- 4) HEADER + NAV (FIX) ---------------------------- */
/* This is the part that usually causes “everything squished left”.
   It forces a 3-column header: left nav | centered logo | right nav.
*/

.site-header {
    position: sticky;
    top: 0;
    z-index: 1400;
    background: var(--header-bg);
    backdrop-filter: blur(18px) saturate(160%);
    border-bottom: 1px solid var(--header-border);
    box-shadow: var(--ts-shadow-header);
}

.site-header.is-scrolled {
    box-shadow: var(--ts-shadow-header-scrolled);
}

.site-header-inner {
    max-width: var(--container-max);
    margin-inline: auto;
    padding-inline: var(--container-gutter);
    padding-block: var(--header-pad-y);
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    gap: var(--space-7);
}

.site-header.is-scrolled .site-header-inner {
    padding-block: var(--header-pad-y-scrolled);
}

.site-branding {
    grid-column: 2;
    display: flex;
    justify-content: center;
    align-items: center;
    min-width: 0;
}

.ts-logo-link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
}

.ts-logo {
    width: auto;
    height: auto;
    max-width: 220px;
    transition: max-width var(--dur-slow) var(--ease-smooth);
}

.site-header.is-scrolled .ts-logo {
    max-width: 140px;
}

.site-nav {
    display: flex;
    align-items: center;
    min-width: 0;
}

.site-nav--left {
    grid-column: 1;
    justify-content: flex-end;
}

.site-nav--right {
    grid-column: 3;
    justify-content: flex-start;
}

.site-menu {
    list-style: none;
    margin: 0;
    padding: 0;
    display: flex;
    align-items: center;
    gap: clamp(0.85rem, 2vw, 2rem);
    flex-wrap: wrap;
}

.nav-link {
    display: inline-flex;
    align-items: center;
    padding: 0.6rem 0.8rem;
    border-radius: 10px;
    color: var(--ts-color-heading);
    text-decoration: none;
    font-weight: 500;
    transition: background var(--dur-fast) var(--ease-smooth),
        color var(--dur-fast) var(--ease-smooth),
        transform var(--dur-fast) var(--ease-smooth);
}

.nav-link:hover {
    background: color-mix(in srgb, var(--ts-color-primary) 8%, transparent);
    color: var(--ts-color-primary);
    transform: translateY(-1px);
}

.nav-link.active {
    color: var(--ts-color-primary);
    font-weight: 650;
}

/* If you have an “old broken svg container”, this nukes it safely.
   (Common pattern: .site-header .logo-placeholder, .old-logo, etc.)
   Add your actual classnames here if you know them. */
.site-header .logo-placeholder:empty,
.site-header .old-logo:empty,
.site-header .svg-placeholder:empty {
    display: none !important;
}

/* ------------------------- 5) MOBILE NAV -------------------------------- */

.nav-toggle {
    display: none;
    grid-column: 3;
    justify-self: end;
    background: transparent;
    border: 0;
    padding: 0.5rem;
    border-radius: 12px;
}

.nav-toggle-icon {
    display: flex;
    flex-direction: column;
    gap: 5px;
    width: 26px;
    height: 20px;
}

.nav-toggle-icon span {
    display: block;
    height: 2px;
    width: 100%;
    background: var(--ts-color-heading);
    border-radius: 2px;
    transition: transform var(--dur-fast) var(--ease-smooth),
        opacity var(--dur-fast) var(--ease-smooth);
}

.nav-toggle[aria-expanded="true"] .nav-toggle-icon span:nth-child(1) {
    transform: rotate(45deg) translate(7px, 7px);
}

.nav-toggle[aria-expanded="true"] .nav-toggle-icon span:nth-child(2) {
    opacity: 0;
}

.nav-toggle[aria-expanded="true"] .nav-toggle-icon span:nth-child(3) {
    transform: rotate(-45deg) translate(7px, -7px);
}

.mobile-nav-shell {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 9998;
    pointer-events: none;
}

.mobile-nav-shell.is-open {
    pointer-events: auto;
}

.mobile-nav-backdrop {
    position: fixed;
    inset: 0;
    background: rgb(0 0 0 / 0.65);
    backdrop-filter: blur(8px);
    opacity: 0;
    visibility: hidden;
    transition: opacity var(--dur-slow) var(--ease-smooth),
        visibility var(--dur-slow) var(--ease-smooth);
}

.mobile-nav-shell.is-open .mobile-nav-backdrop {
    opacity: 1;
    visibility: visible;
}

.mobile-nav {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    width: min(380px, 88vw);
    background: var(--ts-color-surface);
    border-left: 1px solid var(--ts-color-border);
    box-shadow: -16px 0 48px rgb(0 0 0 / 0.22);
    transform: translateX(100%);
    transition: transform var(--dur-slow) var(--ease-smooth);
    display: flex;
    flex-direction: column;
}

.mobile-nav-shell.is-open .mobile-nav {
    transform: translateX(0);
}

.mobile-menu {
    list-style: none;
    margin: 0;
    padding: var(--space-8) 0;
}

.mobile-nav-link {
    display: block;
    padding: 1rem var(--space-8);
    text-decoration: none;
    color: var(--ts-color-heading);
    font-weight: 600;
}

.mobile-nav-link:hover {
    background: var(--ts-color-surface-muted);
    color: var(--ts-color-primary);
}

/* --------------------------- 6) FOOTER ---------------------------------- */

.site-footer {
    background: var(--footer-bg);
    color: rgb(255 255 255 / 0.9);
    position: relative;
    overflow: hidden;
}

.site-footer a {
    color: rgb(255 255 255 / 0.85);
}

.site-footer a:hover {
    color: var(--ts-white);
}

/* ------------------------ 7) RESPONSIVE RULES --------------------------- */

@media (max-width: 1080px) {

    .site-nav--left,
    .site-nav--right {
        display: none;
    }

    .nav-toggle {
        display: inline-flex;
    }

    .mobile-nav-shell {
        display: block;
    }

    .ts-logo {
        max-width: 180px;
    }

    .site-header.is-scrolled .ts-logo {
        max-width: 130px;
    }

    .site-header-inner {
        grid-template-columns: 1fr auto 1fr;
        gap: var(--space-4);
    }
}

@media (max-width: 640px) {
    .site-header-inner {
        padding-block: 0.9rem;
    }

    .ts-logo {
        max-width: 150px;
    }

    .site-header.is-scrolled .ts-logo {
        max-width: 115px;
    }

    .mobile-nav {
        width: min(340px, 92vw);
    }
}

@media (prefers-reduced-motion: reduce) {
    * {
        transition: none !important;
        animation: none !important;
        scroll-behavior: auto !important;
    }
}

/* -------------------------- 8) OPTIONAL HELPERS -------------------------- */

.gradient-hero {
    background: var(--tiller-gradient-hero);
}

.gradient-warm {
    background: var(--tiller-gradient-warm);
}

.gradient-sunrise {
    background: var(--tiller-gradient-sunrise);
}

.shadow-soft {
    box-shadow: var(--ts-shadow-soft);
}

.shadow-lift {
    box-shadow: var(--ts-shadow-lift);
}

.text-teal {
    color: var(--ts-color-primary);
}

.text-warm {
    color: var(--ts-color-secondary);
}

.text-golden {
    color: var(--ts-color-accent);
}

.bg-teal-soft {
    background: var(--ts-color-primary-soft);
}

.bg-warm-soft {
    background: var(--ts-color-secondary-soft);
}

.bg-golden-soft {
    background: var(--ts-color-accent-soft);
}
/* ======================================================================
   Z-INDEX SAFETY NET — CONTENT ALWAYS ABOVE DECORATION
   ====================================================================== */

/* Ensure real page content stays above decorative overlays */
.site-header,
.site-main,
.site-footer {
    position: relative;
    z-index: 2;
}

/* Force decorative / cosmetic layers behind everything */
.page-bg,
.site-bg,
.hero-bg,
.bg-grid,
.bg-noise,
.overlay,
.backdrop {
    position: absolute;
    inset: 0;
    z-index: 0 !important;
    pointer-events: none;
}